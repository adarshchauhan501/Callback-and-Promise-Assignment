<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling</title>
</head>
<body>
    <h1>Fetch API Error Handling</h1>
    <div id="output"></div>

    <!-- JS Script -->

    <script>
        // Function to display an error message on the webpage

        function showError(errorMessage){
            const outputDiv = document.getElementById('output');
            outputDiv.innerHTML = `<P>Error: ${errorMessage}<P>`;
        }

        // Function to fetch data from the API
        function fetchData(){
            const apiURL = ' https://random-data-api.com/api/v2/users?size=2&is_xml=true';


            fetch(apiURL)
            .then(response => {
                if(!response.ok){
                    throw new Error(`Failed to fetch. Status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                const outputDiv = document.getElementById('output');
                outputDiv.innerHTML = `<P>Title: ${data.title}<P><P>Body: ${data.body}<P>`;
            })
            .catch(error => {
                showError(error.message);
            })
            fetchData();

        }
    </script>


</body>
</html>